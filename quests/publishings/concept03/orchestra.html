<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 노블 메이커 - 오케스트라 캔버스</title>
    <link rel="stylesheet" href="style.css">
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts (Inter) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome (for icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="page-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-top">
                <a href="index.html" class="logo">
                    <i class="fa-solid fa-atom"></i>
                </a>
                <nav class="sidebar-nav">
                    <a href="index.html" class="nav-item active"><i class="fa-solid fa-house"></i></a> <!-- 내 프로젝트 (대시보드) -->
                    <a href="agents.html" class="nav-item"><i class="fa-solid fa-robot"></i></a> <!-- 에이전트 관리 -->
                    <a href="templates.html" class="nav-item"><i class="fa-solid fa-layer-group"></i></a> <!-- 템플릿 -->
                    <a href="settings.html" class="nav-item"><i class="fa-solid fa-gear"></i></a> <!-- 설정 및 구독 -->
                </nav>
            </div>
            <div class="sidebar-bottom">
                <div class="pro-mode-toggle">
                    <label class="switch">
                        <input type="checkbox" id="pro-mode-test-toggle">
                        <span class="slider round"></span>
                    </label>
                    <span class="pro-mode-label">Pro Mode (Test)</span>
                </div>
                <a href="#" class="nav-item profile">
                    <img src="https://placehold.co/40x40/9B59B6/white?text=P" alt="Profile">
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <div class="main-wrapper">
            <header class="top-header">
                <div class="page-title-header">
                    <h1>My First Novel</h1>
                    <span class="header-breadcrumb">/</span>
                    <span class="header-breadcrumb">Orchestra</span>
                </div>
                <div class="header-actions">
                    <button class="btn btn-secondary" id="save-workflow-btn">
                        <i class="fa-solid fa-save"></i> Save Workflow
                    </button>
                    <button class="btn btn-primary" id="run-workflow-btn">
                        <i class="fa-solid fa-play"></i> Run Workflow
                    </button>
                </div>
            </header>

            <main class="content-area full-bleed">
                <ul class="nav nav-tabs mb-3" id="mainTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="settings-tab" data-bs-toggle="tab" data-bs-target="#settings" type="button" role="tab" aria-controls="settings" aria-selected="true">설정</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="agents-tab" data-bs-toggle="tab" data-bs-target="#agents" type="button" role="tab" aria-controls="agents" aria-selected="false">에이전트</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="orchestra-tab" data-bs-toggle="tab" data-bs-target="#orchestra" type="button" role="tab" aria-controls="orchestra" aria-selected="false">오케스트라</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="outputs-tab" data-bs-toggle="tab" data-bs-target="#outputs" type="button" role="tab" aria-controls="outputs" aria-selected="false">결과물</button>
                    </li>
                </ul>
                <div class="tab-content" id="mainTabContent">
                    <div class="tab-pane fade show active" id="settings" role="tabpanel" aria-labelledby="settings-tab">
                        <div class="container-fluid mt-3">
                            <ul class="nav nav-tabs" id="settingsSubTab" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="sub-tab-2-1-tab" data-bs-toggle="tab" data-bs-target="#sub-tab-2-1" type="button" role="tab" aria-controls="sub-tab-2-1" aria-selected="true">IA 2.1</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="sub-tab-2-2-tab" data-bs-toggle="tab" data-bs-target="#sub-tab-2-2" type="button" role="tab" aria-controls="sub-tab-2-2" aria-selected="false">IA 2.2</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="sub-tab-2-3-tab" data-bs-toggle="tab" data-bs-target="#sub-tab-2-3" type="button" role="tab" aria-controls="sub-tab-2-3" aria-selected="false">IA 2.3</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="sub-tab-2-4-tab" data-bs-toggle="tab" data-bs-target="#sub-tab-2-4" type="button" role="tab" aria-controls="sub-tab-2-4" aria-selected="false">인물 (Characters) IA 2.4</button>
                                </li>
                            </ul>
                            <div class="tab-content p-3 border border-top-0" id="settingsSubTabContent">
                                <div class="tab-pane fade show active" id="sub-tab-2-1" role="tabpanel" aria-labelledby="sub-tab-2-1-tab">
                                    <h5>IA 2.1 Content (Complex Form Page)</h5>
                                    <p>This will be a complex form related to IA 2.1.</p>
                                </div>
                                <div class="tab-pane fade" id="sub-tab-2-2" role="tabpanel" aria-labelledby="sub-tab-2-2-tab">
                                    <h5>IA 2.2 Content (Complex Form Page)</h5>
                                    <p>This will be a complex form related to IA 2.2.</p>
                                </div>
                                <div class="tab-pane fade" id="sub-tab-2-3" role="tabpanel" aria-labelledby="sub-tab-2-3-tab">
                                    <h5>IA 2.3 Content (Complex Form Page)</h5>
                                    <p>This will be a complex form related to IA 2.3.</p>
                                </div>
                                <div class="tab-pane fade" id="sub-tab-2-4" role="tabpanel" aria-labelledby="sub-tab-2-4-tab">
                                    <h5>인물 (Characters) IA 2.4 Content (Pinterest Style Cards)</h5>
                                    <div class="character-cards-container">
                                        <!-- Placeholder Character Card 1 -->
                                        <div class="character-card-pinterest">
                                            <img src="https://placehold.co/300x400/FFD700/white?text=Character+1" alt="Character 1">
                                            <div class="card-body">
                                                <h6 class="card-title">엘리시아 (Elysia)</h6>
                                                <p class="card-text">신비로운 숲의 정령으로, 고대 마법을 다룹니다.</p>
                                            </div>
                                        </div>
                                        <!-- Placeholder Character Card 2 -->
                                        <div class="character-card-pinterest">
                                            <img src="https://placehold.co/300x200/ADD8E6/black?text=Character+2" alt="Character 2">
                                            <div class="card-body">
                                                <h6 class="card-title">카이 (Kai)</h6>
                                                <p class="card-text">도시의 그림자 속에서 활동하는 뛰어난 해커.</p>
                                            </div>
                                        </div>
                                        <!-- Placeholder Character Card 3 -->
                                        <div class="character-card-pinterest">
                                            <img src="https://placehold.co/300x350/90EE90/black?text=Character+3" alt="Character 3">
                                            <div class="card-body">
                                                <h6 class="card-title">제이든 (Jayden)</h6>
                                                <p class="card-text">몰락한 귀족 가문의 마지막 후예, 검술의 달인.</p>
                                            </div>
                                        </div>
                                        <!-- Placeholder Character Card 4 -->
                                        <div class="character-card-pinterest">
                                            <img src="https://placehold.co/300x250/FFB6C1/black?text=Character+4" alt="Character 4">
                                            <div class="card-body">
                                                <h6 class="card-title">리나 (Rina)</h6>
                                                <p class="card-text">고고학자로, 잊혀진 문명의 유물을 찾아 나섭니다.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="agents" role="tabpanel" aria-labelledby="agents-tab">
                        <!-- Agents Tab Content -->
                        <p>Agents content goes here.</p>
                    </div>
                    <div class="tab-pane fade" id="orchestra" role="tabpanel" aria-labelledby="orchestra-tab">
                        <!-- Orchestra Tab Content - Original content will go here -->
                        <div class="orchestra-layout">
                            <!-- Agent Library -->
                            <div class="agent-library">
                                <h4><i class="fa-solid fa-users"></i> Agent Library</h4>
                                <p>Drag agents onto the canvas</p>
                                <div class="agent-card" draggable="true">
                                    <i class="fa-solid fa-globe"></i>
                                    <span>World Builder</span>
                                </div>
                                <div class="agent-card" draggable="true">
                                    <i class="fa-solid fa-pencil-alt"></i>
                                    <span>Plot Generator</span>
                                </div>
                                <div class="agent-card" draggable="true">
                                    <i class="fa-solid fa-book-open"></i>
                                    <span>Chapter Writer</span>
                                </div>
                                <div class="agent-card" draggable="true">
                                    <i class="fa-solid fa-user-edit"></i>
                                    <span>Character Analyst</span>
                                </div>
                            </div>

                            <!-- Main Canvas -->
                            <div class="canvas-main">
                                <div class="canvas-hint">
                                    <h3>Orchestra Canvas</h3>
                                    <p>Drag agents from the library to start building your workflow.</p>
                                </div>
                                <!-- Nodes will be added here dynamically by JS -->
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="outputs" role="tabpanel" aria-labelledby="outputs-tab">
                        <!-- Outputs Tab Content -->
                        <p>Outputs content goes here.</p>
                    </div>
                </div>
            </main>
        </div>
    </div>
    <script src="orchestra.js"></script>
    <!-- Bootstrap 5 JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>